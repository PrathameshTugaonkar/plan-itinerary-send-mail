# Plan My Itinerary Pipeline

This pipeline generates a travel itinerary for a specified location and duration, then emails the itinerary to the recipient(s). Using Instill AIâ€™s OpenAI component, it generates the itinerary based on the user's input and sends it via email using a Gmail SMTP server.

## Pipeline Overview

### Components

1. **ask-me** (OpenAI Component)
   - Generates a travel itinerary based on the `countryOrCity` and `numberOfDays` variables.
   - Model: `gpt-4o-mini`
   - Response is a concise 50-word itinerary.

2. **send-email** (Email Component)
   - Sends the generated itinerary as an email to the specified recipient(s).
   - Uses Gmail SMTP for sending emails.
   - Both `recipients` and `bcc` fields are populated with the provided `email` variable, and the subject includes the location specified in `countryOrCity`.

### Variables

| Variable       | Description                           | Format     | UI Order |
|----------------|---------------------------------------|------------|----------|
| `email`        | Array of recipient email addresses    | array:string | 1       |
| `numberOfDays` | Number of days for the itinerary      | number     | 2        |
| `countryOrCity`| City or country for the itinerary     | string     | 3        |

## Outputs

| Output       | Description                           |
|--------------|---------------------------------------|
| `result`     | The itinerary sent to the recipient(s)|
| `answer`     | The itinerary generated by the AI     |

## Configuration Steps

1. **Set Up Secrets**
   - In your Instill project, add secrets:
     - `my-gmail-200`: Your Gmail address.
     - `email-password-200`: Your Gmail app password (ensure [two-step verification](https://support.google.com/accounts/answer/185839) is enabled, and an app password is generated).

2. **Define Variables**
   - When running the pipeline, provide values for:
     - `numberOfDays`: Number of days for the trip (e.g., `3`)
     - `countryOrCity`: Location for the itinerary (e.g., `Mumbai`)
     - `email`: Recipient email(s) as an array (e.g., `["recipient@example.com"]`)

3. **Run the Pipeline**
   - Visit [Instill Pipeline Playground](https://instill.tech/pratha200/pipelines/plan-my-itinerary/playground) to execute the pipeline with your variables.

## Example Usage

Upon execution, the pipeline will:
1. Generate an itinerary based on your inputs.
2. Email the itinerary to the specified recipients with the subject "My itinerary for [City/Country]".

## Notes
- Ensure the Gmail account has [less secure app access enabled](https://myaccount.google.com/lesssecureapps) or an app-specific password if using two-step verification.
- For details on the Instill setup, refer to the [Instill Documentation](https://instill.tech).

